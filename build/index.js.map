{"version":3,"sources":["../src/index.js"],"names":["player","additionInfo","push","count","console","log","complementPlayerInfo","players","data","promiseList","map","Promise","all","main"],"mappings":";;;;;;AAMA;;;;;wEAIA,iBAAqCA,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAG2B,0BAAeA,OAAO,CAAP,CAAf,CAH3B;;AAAA;AAGMC,wBAHN;;AAIE;AACAD,mBAAOE,IAAP,kCAAgBD,YAAhB;AACAE;AACAC,oBAAQC,GAAR,CAAaJ,aAAc,CAAd,IAAoB,IAApB,GAA2BE,KAAxC;;AAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeG,oB;;;;;AAWf;;;;yEACA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKE;AACIC,mBANN,GAMgB,iBAAWC,IAAX,CAAgBD,OANhC;AAOE;;;AALA;;AAMAE,0BAAcF,QAAQG,GAAR,CAAa,UAAEV,MAAF,EAAc;;AAEvC;AACA,qBAAOM,qBAAsBN,MAAtB,CAAP;AAED,aALa,CAAd;;AARF;AAAA,mBAeQW,QAAQC,GAAR,CAAaH,WAAb,CAfR;;AAAA;;AAiBEL,oBAAQC,GAAR,CAAa,MAAb;;AAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeQ,I;;;;;AArBf;;AACA;;;;;;2cAFA;;;AAIA,IAAIV,QAAQ,CAAZ;;AAuCAU","file":"index.js","sourcesContent":["// import 'babel-polyfill'\r\nimport { playerRequest } from './utils'\r\nimport { stats_ptsd } from './data.js'\r\n\r\nvar count = 0;\r\n\r\n/*\r\n  @param player Array 数组，数组的每一个元素都是运动员的信息\r\n  补全运动员的信息\r\n*/\r\nasync function complementPlayerInfo( player ) {\r\n\r\n  // 获取运动员的补充信息\r\n  let additionInfo = await playerRequest( player[0] );\r\n  // 将补充信息合并到该运动员数组中（每个运动员用一个数组表示）\r\n  player.push( ...additionInfo );\r\n  count++;\r\n  console.log( additionInfo[ 0 ] + ', ' + count );\r\n\r\n}\r\n\r\n// 并发执行抓取\r\nasync function main() {\r\n\r\n  // 用于存放所有请求返回的Promise\r\n  var promiseList;\r\n\r\n  // 球员列表（数组）\r\n  var players = stats_ptsd.data.players;\r\n  // 补全所有球员的信息\r\n  promiseList = players.map( ( player ) => {\r\n\r\n    // 返回promise\r\n    return complementPlayerInfo( player );\r\n\r\n  } );\r\n\r\n  await Promise.all( promiseList );\r\n\r\n  console.log( 'done' );\r\n\r\n}\r\n\r\nmain();\r\n"]}